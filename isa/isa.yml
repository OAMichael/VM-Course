---
# both borders included

fields:
  opcode: 
    name: opcode
    location: {bits: {msb: 7, lsb: 0, from: 7, to: 0}, mask: 255, dbg_hex_mask: ff}
  r1:
    name: r1
    location: {bits: {msb: 15, lsb: 8, from: 7, to: 0}, mask: 65280, dbg_hex_mask: ff00}
  intrCode:
    name: intrCode
    location: {bits: {msb: 15, lsb: 8, from: 7, to: 0}, mask: 65280, dbg_hex_mask: ff00}
  r2:
    name: r2
    location: {bits: {msb: 23, lsb: 16, from: 7, to: 0}, mask: 16711680, dbg_hex_mask: ff0000}
  imm:
    name: imm
    location: {bits: {msb: 31, lsb: 16, from: 15, to: 0}, mask: 4278190080, dbg_hex_mask: ffff0000}

types:
  onlyReg:    [opcode, r1]
  onlyImm:    [opcode, imm]
  nothing:    [opcode]
  twoRegs:    [opcode, r1, r2]
  regAndImm:  [opcode, r1, imm]
  intrinsic:  [opcode, intrCode]

instructions:
  $1:
    name: load_Acc
    type: onlyReg
    implAcc: write
  $2:
    name: store_Acc
    type: onlyReg
    implAcc: read
  $3:
    name: load_AccI
    type: onlyImm
    implAcc: write
  $4:
    name: to_Float_Reg
    type: onlyReg
    implAcc: write
  $5:
    name: to_Int_Reg
    type: onlyReg
    implAcc: write
  $6:
    name: to_Float
    type: nothing
    implAcc: readWrite
  $7:
    name: to_Int
    type: nothing
    implAcc: readWrite
  $8:
    name: mv
    type: twoRegs
    implAcc: none
  $9:
    name: mvi
    type: regAndImm
    implAcc: none
  $10:
    name: load_Acc_Mem
    type: regAndImm
    implAcc: write
  $11:
    name: store_Acc_Mem
    type: regAndImm
    implAcc: read
  $12:
    name: add
    type: onlyReg
    implAcc: readWrite
  $13:
    name: sub
    type: onlyReg
    implAcc: readWrite
  $14:
    name: mul
    type: onlyReg
    implAcc: readWrite
  $15:
    name: div
    type: onlyReg
    implAcc: readWrite
  $16:
    name: and
    type: onlyReg
    implAcc: readWrite
  $17:
    name: or
    type: onlyReg
    implAcc: readWrite
  $18:
    name: xor
    type: onlyReg
    implAcc: readWrite
  $19:
    name: sl
    type: onlyReg
    implAcc: readWrite
  $20:
    name: sr
    type: onlyReg
    implAcc: readWrite
  $21:
    name: addi
    type: onlyImm
    implAcc: readWrite
  $22:
    name: subi
    type: onlyImm
    implAcc: readWrite
  $23:
    name: muli
    type: onlyImm
    implAcc: readWrite
  $24:
    name: divi
    type: onlyImm
    implAcc: readWrite
  $25:
    name: andi
    type: onlyImm
    implAcc: readWrite
  $26:
    name: ori
    type: onlyImm
    implAcc: readWrite
  $27:
    name: xori
    type: onlyImm
    implAcc: readWrite
  $28:
    name: sli
    type: onlyImm
    implAcc: readWrite
  $29:
    name: sri
    type: onlyImm
    implAcc: readWrite
  $30:
    name: addf
    type: onlyReg
    implAcc: readWrite
  $31:
    name: subf
    type: onlyReg
    implAcc: readWrite
  $32:
    name: mulf
    type: onlyReg
    implAcc: readWrite
  $33:
    name: divf
    type: onlyReg
    implAcc: readWrite
  $34:
    name: neg
    type: nothing
    implAcc: readWrite
  $35:
    name: sin
    type: nothing
    implAcc: readWrite
  $36:
    name: cos
    type: nothing
    implAcc: readWrite
  $37:
    name: sqrt
    type: nothing
    implAcc: readWrite
  $38:
    name: call_Intr
    type: intrinsic
    implAcc: readWrite
  $39:
    name: jmp
    type: onlyImm
    implAcc: none
  $40:
    name: beq
    type: onlyReg
    implAcc: readWrite
  $41:
    name: bne
    type: onlyReg
    implAcc: readWrite
  $42:
    name: bge
    type: onlyReg
    implAcc: readWrite
  $43:
    name: bgt
    type: onlyReg
    implAcc: readWrite
  $44:
    name: ble
    type: onlyReg
    implAcc: readWrite
  $45:
    name: blt
    type: onlyReg
    implAcc: readWrite
  $46:
    name: call
    type: onlyImm
    implAcc: none
  $47:
    name: ret
    type: nothing
    implAcc: none

intrinsics:
  $1:
    name: scan
  $2:
    name: print
  $3:
    name: scanf
  $4:
    name: printf